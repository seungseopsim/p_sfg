<%= content_for :metatage_includes do %>
  	<meta name="turbolinks-visit-control" content="reload">
<% end %>
<%= content_for :stylesheet_includes do %>
<style>
	.input-group .input-group-text {
	padding-left : 5px;
    background: transparent;
    border: 0;
    /* border-bottom: 1px solid #E1E1E1; */
    border-radius: 0;
    font-size: 20px;
    font-weight: 400;
    color: #141515;
    /* height: 40px; */
    width: auto;
    /* padding: 0 10px 0 0; */
	}
	.listview {
		display: block;
		padding: 0;
		margin: 0;
		color: #141515;
		background: #fff;
		border-top: 0px solid #E1E1E1;
		border-bottom: 0px solid #E1E1E1;
		line-height: 1.3em;
	}

	.listview > li:after {
		content: "";
		display: block;
		position: absolute;
		left: 0;
		right: 0;
		bottom: 0;
		height: 0px;
		background: #E1E1E1;
	}

	.listview_new {
		list-style:none;
		display: block;
		padding: 0;
		margin: 0;
		color: #141515;
		background: #fff;
		line-height: 1.3em;
	}

	.simple-listview .tabcontent > li .item {
		padding: 2px 2px;
		width: 100%;
		min-height: 30x;
		display: flex;
		align-items: center;
	}

	.simple-listview .tabcontent > li .item .s_item_in1{
		padding-left:15px;
		width: 35%;
		font-size:13px;
	}

	.simple-listview .tabcontent  > li .item .s_item_in2{
		width: 20%;

		text-align:right;
		padding-right:10px;
		font-size:13px;
	}		

	.card .card-body {
		padding: 7px;
		line-height: 1.4em;
	}

	.card .title {
			padding-top : 7px;
		margin-bottom : -10px;
	}


	.card .card-title {
		padding-left:7px;
		color: #141515;
		font-size: 18px;
		margin-top: .6rem;
		float:left;
		width: 65%;
	}

	.card .card-title_2 {
		padding-left:2.5rem;
		margin-top: .6rem;
		float:left;
		width: 35%;
	}


	.card .date {
		margin-top: .6rem;
		padding-left:1.0rem;
		float:left;
	}



	.image-listview > li .item {
		padding: 0px 0px;
		width: 100%;
		min-height: 30px;
		display: flex;
		align-items: center;
	}

	.image-listview > li .item .in {
		display: flex;
		align-items: center;
		justify-content: space-between;
		width: 27%;
	}

	.card .listview .in1{

		padding-left : 15px;
		padding-right : 5px;
		display: flex;
		align-items: center;
		justify-content: space-between;
		width: 35%;
	}

	.card .listview .in1 .in1body{
		width: 100%;
	}

	.card .listview .in .in2body{
		width: 100%;
		margin-right: 0.6rem;
	}

	.card .listview .in1 .in1body .chip{
		height: 18px;
		line-height: 18px;
		display: block;
		text-align: center;
		font-size: 13px;

		width: 100%;
	}

	.card .listview .t{
		height: 18px;
		line-height: 18px;
		display: block;
		text-align:right;
		font-size: 12px;

	}

	.btn_body {
		padding: 7px;
	}

	.btn_body .btn {

		font-size: 13px;

	}

	.toparea div{
		font-size: 13px;
		float:left;
		height: 22px;
		line-height: 22px;
		display: block;
	}
</style>
<% end %>

<%= content_for :javascript_includes do %>
<script src="/assets/js/lib/date.js"></script>
<script type="text/javascript">
		window.addEventListener('DOMContentLoaded', function(){
		setDateBoxDouble()	
		const query = new URLSearchParams(window.location.search);
		const type = query.get('type');
		if(type == 1){
		document.getElementById('sum').className="badge badge-danger";		
		}else{
		document.getElementById('avr').className="badge badge-danger";
		}
			
		$('#year_1_select').val('<%= @year_value_1 %>');
		$('#month_1_select').val('<%= @month_value_1 %>');
		$('#year_2_select').val('<%= @year_value_2 %>');
		$('#month_2_select').val('<%= @month_value_2 %>');

		opentab(event, 'SFG');
	});
	
	function onSelect() {
		var value1 = document.getElementById("year_1_select").value;
		var value2 = document.getElementById("month_1_select").value;
		var value3 = document.getElementById("year_2_select").value;
		var value4 = document.getElementById("month_2_select").value;
		
 		inloader();
		window.location.href ="/analysis/rangemonth?start="+value1+"-"+value2+"&end="+value3+"-"+value4+"&type=1";

	}

	function moverange(type)
	{
		inloader();
		window.location.href ="/analysis/rangemonth?start=<%=@startmonth%>&end=<%=@endmonth%>&type=" + type ;
	}

	function opentab(evt, itemname) {

	  var i, tabcontent, tablinks;

	  tabcontent = document.getElementsByClassName("tabcontent");

	  for (i = 0; i < tabcontent.length; i++) {
		tabcontent[i].style.display = "none";
	  }

	  tablinks = document.getElementsByClassName("item");

	  for (i = 0; i < tablinks.length; i++) {
		tablinks[i].className = tablinks[i].className.replace(" active", "");
	  }
		
	  target = document.getElementById(itemname);
	  target.style.display = "block";
	  target.className += " active";		
	}

</script>
<% end %>
	

<div class="appHeader bg-primary text-light">
<div class="left">
		<a href="#" class="headerButton" data-toggle="modal" data-target="#sidebarPanel">
			<ion-icon name="menu-outline"></ion-icon>
		</a>
</div>
	<div class="pageTitle">매출 분석</div>
</div>
<!-- * App Header -->

<!-- App Capsule -->
<div id="appCapsule">
	<% if @rangetype == '1' %>
		<%= render 'sales_analysis/rangemonth/range.html.erb', {sfg: @sfg, business: @business, shops: @shops} %>
	<% end %>
	<% if @rangetype == '2' %>
		<%= render "sales_analysis/rangemonth/rangeavg", {sfgavg: @sfgavg, businessavg: @businessavg, shopsavg: @shopsavg} %>
	<% end %>
</div>

<%= render 'bottommenu' %>	
<%= render 'layouts/sidebar', rooms: @roomtype %>

<script src="/assets/js/lib/popper.min.js"></script>
<script src="/assets/js/lib/bootstrap.min.js"></script>