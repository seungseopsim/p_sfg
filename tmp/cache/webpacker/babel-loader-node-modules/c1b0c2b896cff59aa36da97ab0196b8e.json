{"ast":null,"code":"ContentLoaded = function ContentLoaded(event) {\n  SelectReport = function selectReport(_type) {\n    document.location.href = \"/reportrooms/type/\" + _type;\n  };\n\n  ShowReport = function showReport(_type) {\n    document.location.href = \"/reportrooms/\" + _type;\n  };\n\n  Vaildform = function vaildform(_event) {\n    selectobj = document.getElementById('reportroom_type');\n    contentobj = document.getElementById('reportroom_contents');\n    plancontensobj = document.getElementById('reportroom_plancontents');\n\n    if (selectobj.selectedIndex == 0) {\n      alert(\"select type\");\n      return false;\n    }\n\n    if (contentobj.value.length < 1) {\n      alert(\"check content\");\n      return false;\n    }\n\n    return true;\n  }; // textarea key event\n\n\n  TextareaKeydown = function TextareaKeydown(event) {\n    var keycode = event.keyCode; // 탭 키\n\n    if (keycode == 9) {\n      event.preventDefault();\n      textareaobj = document.getElementById(event.target.id);\n\n      if (null == textareaobj) {\n        return;\n      }\n\n      var valueStart = textareaobj.selectionStart;\n      textareaobj.value = textareaobj.value.substring(0, textareaobj.selectionStart) + \"\\t\" + textareaobj.value.substring(textareaobj.selectionEnd);\n      textareaobj.selectionEnd = valueStart + 1;\n    } // 엔터 키\n    else if (keycode == 13) {\n        event.stopPropagation();\n      }\n  };\n\n  setTimeout(function () {\n    alertobj = document.getElementById(\"alertmsg\");\n\n    if (alertobj) {\n      alertobj.style.display = \"none\";\n    }\n  }, 3000); // 글 읽기 표시 처리\n\n  {\n    buttons = document.getElementsByClassName(\"btn collapsed\");\n    roomtypeobj = document.getElementById(\"roomtype\"); //console.log(buttons);\n\n    if (null == roomtypeobj) {\n      return;\n    }\n\n    roomtype = roomtypeobj.dataset.type;\n\n    if (null == roomtype) {\n      return;\n    }\n\n    if (null != buttons) {\n      for (idx = 0; idx < buttons.length; ++idx) {\n        /*\n        \t\t\t\ttargetid = buttons[idx].dataset.target;\n        \t\t\t\t\n        \t\t\t\tframe  = document.getElementById(targetid.replace(\"#\", \"\"));\n        \t\t\t\tif(null != frame)\n        \t\t\t\t{\n        \t\t\t\t\ttry\n        \t\t\t\t\t{\n        \t\t\t\t\t\tframe.addEventListener('click', function() {\n        \t\t\t\t\t\t\talert(\"ASDFAS\");\n        \t\t\t\t\t\t});\n        \n        \t\t\t\t\t}\n        \t\t\t\t\tcatch(error)\n        \t\t\t\t\t{\n        \t\t\t\t\t\tconsole.error(error);\n        \t\t\t\t\t}\n        \t\t\t\t\t\t\n        \t\t\t\t}\n        */\n        $(buttons[idx].dataset.target).on('shown.bs.collapse', function (_event) {\n          //document.location.href =  \"/reportrooms/${buttons[idx].dataset.target.replace('#accordion')}\";\n          obj = _event['target'];\n\n          if (null != obj) {\n            targetid = obj.id;\n\n            if (null != targetid) {\n              id = targetid.replace('accordion', \"\");\n              path = \"/reportrooms/read\";\n              param = \"type=\".concat(roomtype, \"&id=\").concat(id); //document.location.href = path;\n\n              httpRequest = new XMLHttpRequest();\n\n              if (null == httpRequest) {\n                //alert(\"nil\");\n                return;\n              }\n\n              httpRequest.onreadystatechange = function () {\n                if (this.readyState == this.DONE) {\n                  var calcHeight = function calcHeight() {\n                    var the_height = document.getElementById('the_iframe').contentWindow.document.body.scrollHeight; //change the height of the iframe\n\n                    document.getElementById('the_iframe').height = the_height; //document.getElementById('the_iframe').scrolling = \"no\";\n\n                    document.getElementById('the_iframe').style.overflow = \"hidden\";\n                  };\n\n                  console.log(this.status);\n\n                  if (this.status != 200) {\n                    return;\n                  }\n\n                  console.log(this.responseText);\n\n                  try {\n                    jobj = JSON.parse(this.responseText); // font = document.getElementById(`font${jobj.id}`);\n\n                    bg = document.querySelector(\".bg\".concat(jobj.id));\n\n                    if (null != bg) {\n                      // console.log(bg);\n                      // font.style.color = \"blue\";\n                      bg.style.backgroundColor = \"white\";\n                    }\n                  } catch (ex) {\n                    console.log(ex);\n                  }\n                }\n              };\n\n              httpRequest.open('POST', path);\n              httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n              httpRequest.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'));\n              httpRequest.send(param);\n            }\n          }\n        });\n      }\n    }\n  }\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", ContentLoaded);\n/*\nwindow.addEventListener(\"load\", function(){\n\talert(\"asdf232523asdf\");\n});\n*/","map":{"version":3,"sources":["/workspace/CUBE_DB_CONNECT_1/app/javascript/packs/reportrooms.js"],"names":["ContentLoaded","event","SelectReport","selectReport","_type","document","location","href","ShowReport","showReport","Vaildform","vaildform","_event","selectobj","getElementById","contentobj","plancontensobj","selectedIndex","alert","value","length","TextareaKeydown","keycode","keyCode","preventDefault","textareaobj","target","id","valueStart","selectionStart","substring","selectionEnd","stopPropagation","setTimeout","alertobj","style","display","buttons","getElementsByClassName","roomtypeobj","roomtype","dataset","type","idx","$","on","obj","targetid","replace","path","param","httpRequest","XMLHttpRequest","onreadystatechange","readyState","DONE","calcHeight","the_height","contentWindow","body","scrollHeight","height","overflow","console","log","status","responseText","jobj","JSON","parse","bg","querySelector","backgroundColor","ex","open","setRequestHeader","attr","send","window","addEventListener"],"mappings":"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","sourcesContent":["\nContentLoaded = function(event) {\n\t\n\tSelectReport = function selectReport(_type){\n\t\tdocument.location.href = \"/reportrooms/type/\"+_type;\n\t}\n\t\n\tShowReport = function showReport(_type){\n\t\tdocument.location.href = \"/reportrooms/\"+_type;\n\t}\n\t\n\tVaildform = function vaildform(_event){\n\n\t\tselectobj =\tdocument.getElementById('reportroom_type');\n\t\tcontentobj = document.getElementById('reportroom_contents');\n\t\tplancontensobj = document.getElementById('reportroom_plancontents');\n\t\t\n\t\tif( selectobj.selectedIndex == 0)\n\t\t{\n\t\t\talert(\"select type\");\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tif(contentobj.value.length < 1)\n\t\t{\n\t\t\talert(\"check content\");\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\t\t\n\t// textarea key event\n\tTextareaKeydown = function (event){\n\t\tvar keycode = event.keyCode;\n\t\t\n\t\t// 탭 키\n\t\tif(keycode == 9){\n\t\t\tevent.preventDefault();\n\t\t    \n\t\t\ttextareaobj = document.getElementById(event.target.id);\n\t\t\tif( null == textareaobj){\n\t\t\t\treturn;\n\t\t\t}           \n\t\t\t\n\t\t\tvar valueStart = textareaobj.selectionStart;\n\t\t\ttextareaobj.value = textareaobj.value.substring(0, textareaobj.selectionStart) + \"\\t\" + textareaobj.value.substring(textareaobj.selectionEnd);\n            textareaobj.selectionEnd = valueStart+1; \t\n\t\t}\n\t\t// 엔터 키\n\t\telse if(keycode == 13){\n\t\t\tevent.stopPropagation();\n\t\t\t\n\t\t}\n\t}\n\t\n\t\n\tsetTimeout(function() {\n\t\talertobj = document.getElementById(\"alertmsg\");\n\t\tif(alertobj)\n\t\t{\n\t\t\talertobj.style.display = \"none\";\n\t\t}\n\t}, 3000);\n\n\t// 글 읽기 표시 처리\n\t{\n\t\tbuttons = document.getElementsByClassName(\"btn collapsed\");\n\t\troomtypeobj = document.getElementById(\"roomtype\");\n\t\t//console.log(buttons);\n\t\tif(null == roomtypeobj)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t \troomtype = roomtypeobj.dataset.type;\n\t\tif(null == roomtype)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(null != buttons)\n\t\t{\n\t\t\tfor(idx = 0; idx < buttons.length; ++idx)\n\t\t\t{\n/*\n\t\t\t\ttargetid = buttons[idx].dataset.target;\n\t\t\t\t\n\t\t\t\tframe  = document.getElementById(targetid.replace(\"#\", \"\"));\n\t\t\t\tif(null != frame)\n\t\t\t\t{\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tframe.addEventListener('click', function() {\n\t\t\t\t\t\t\talert(\"ASDFAS\");\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t\tcatch(error)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t}\n*/\t\t\t\n\t\t\t\t$(buttons[idx].dataset.target).on('shown.bs.collapse', function(_event) {\n\t\t\t\t\t//document.location.href =  \"/reportrooms/${buttons[idx].dataset.target.replace('#accordion')}\";\n\t\t\t\t\tobj = _event['target'];\n\t\t\t\t\tif(null != obj)\n\t\t\t\t\t{\n\t\t\t\t\t\ttargetid = obj.id;\n\t\t\t\t\t\tif( null != targetid)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid = targetid.replace('accordion', \"\");\n\t\t\t\t\t\t\tpath = \"/reportrooms/read\";\n\t\t\t\t\t\t\tparam = `type=${roomtype}&id=${id}`;\n\t\t\t\t\t\t\t//document.location.href = path;\n\t\t\t\t\t\t\thttpRequest = new XMLHttpRequest();\n\t\t\t\t\t\t\tif(null == httpRequest)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t//alert(\"nil\");\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thttpRequest.onreadystatechange = function(){\n\t\t\t\t\t\t\t\tif(this.readyState == this.DONE)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfunction calcHeight(){\n\t var the_height=\n \tdocument.getElementById('the_iframe').contentWindow.\n \tdocument.body.scrollHeight;\n\n \t//change the height of the iframe\n \tdocument.getElementById('the_iframe').height=\n \tthe_height;\n\n \t//document.getElementById('the_iframe').scrolling = \"no\";\n \tdocument.getElementById('the_iframe').style.overflow = \"hidden\";\n}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tconsole.log(this.status);\n\t\t\t\t\t\t\t\t\tif(this.status != 200)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconsole.log(this.responseText);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\ttry\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tjobj = JSON.parse(this.responseText);\n\t\t\t\t\t\t\t\t\t\t// font = document.getElementById(`font${jobj.id}`);\n\t\t\t\t\t\t\t\t\t\tbg = document.querySelector(`.bg${jobj.id}`);\n\t\t\t\t\t\t\t\t\t\tif(null != bg)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t// console.log(bg);\n\t\t\t\t\t\t\t\t\t\t\t// font.style.color = \"blue\";\n\t\t\t\t\t\t\t\t\t\t\tbg.style.backgroundColor =\"white\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcatch(ex)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tconsole.log(ex);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\thttpRequest.open('POST', path);\n\t\t\t\t\t\t\thttpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\t\thttpRequest.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\t\t\t\t\thttpRequest.send(param);\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\t\n\t\t}\n\t}\n}\n\nwindow.addEventListener(\"DOMContentLoaded\", ContentLoaded);\n\n\n/*\nwindow.addEventListener(\"load\", function(){\n\talert(\"asdf232523asdf\");\n});\n*/\n"]},"metadata":{},"sourceType":"module"}